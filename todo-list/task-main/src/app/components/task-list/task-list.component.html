<div class="bg">
  <h2>Tarefas</h2>

  <app-task-filtro (onChangeFiltro)="handleFiltro($event)"></app-task-filtro>
  <div class = "d-flex justify-content-around">
    <ul *ngIf="isVisible" class="me-5">
      <h3>To-Do</h3>
      <ng-container *ngFor="let task of tasksFiltradas">
        <ng-container *ngIf="task.status === 'toDo'">
          <li (click)="selectedTask(task)">
            <div class="card mb-1" style="width: 15rem; height: 12rem;">
              <div class="card-body" appDateGreaterThanToday [Date]="task.date">
                <h4 class="card-title">{{ task.title | currencyFormat }}</h4>
                <p class="card-text">{{task.date | date : "dd/MM/yyyy" }} </p>
                <p class="card-text">{{task.description }}</p>
              </div>
            </div>
          </li>
        </ng-container>
      </ng-container>
    </ul>

    <ul *ngIf="isVisible" class="me-5">
      <h3>Trabalhando</h3>
      <ng-container *ngFor="let task of tasksFiltradas">
        <ng-container *ngIf="task.status === 'trabalhando'">
          <li (click)="selectedTask(task)">
            <div class="card mb-1" style="width: 15rem; height: 12rem;">
              <div class="card-body" appDateGreaterThanToday [Date]="task.date">
                <h4 class="card-title">{{ task.title | currencyFormat  }}</h4>
                <p class="card-text">{{ task.date | date : "dd/MM/yyyy" }} </p>
                <p class="card-text">{{ task.description }}</p>
              </div>
            </div>
          </li>
        </ng-container>
      </ng-container>
    </ul>

    <ul *ngIf="isVisible" class="me-5">
      <h3>Finalizando</h3>
      <ng-container *ngFor="let task of tasksFiltradas">
        <ng-container *ngIf="task.status === 'finalizado'">
          <li (click)="selectedTask(task)">
            <div class="card mb-1" style="width: 15rem; height: 12rem;">
              <div class="card-body" appDateGreaterThanToday [Date]="task.date">
                <h4 class="card-title">{{ task.title | currencyFormat }}</h4>
                <p class="card-text">{{ task.date | date : "dd/MM/yyyy" }} </p>
                <p class="card-text">{{ task.description }}</p>
              </div>
            </div>
          </li>
        </ng-container>
      </ng-container>
    </ul>
  </div>

  <button (click)="mostrarLista()" class="btn my-3 ms-3">Mostrar Lista</button>
</div>
